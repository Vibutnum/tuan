div.barrage
javascript:
  $(function(){
    var barrage_count     = 1,
        seconds_arr       = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30], // 随机秒数
        interval_arr      = [0.75, 0.80, 0.85, 0.90, 0.95, 1.0, 1.1, 1.2, 1.3, 1.4, 1.5], // 单位分 间隔时间
        barrage_max_arr   = [3, 4, 5, 6], // 发的次数
        barrage_province  = [
          "湖北省",
          "山东省",
          "江苏省",
          "上海市",
          "北京市",
          "安徽省",
          "湖南省",
          "福建省",
          "吉林省",
          "河北省",
          "青海省",
          "云南省",
          "重庆市",
          "浙江省",
          "山西省",
          "天津市",
          "甘肃省",
          "四川省",
          "广东省",
          "河南省",
          "贵州省",
          "海南省",
          "黑龙江省",
          "陕西省",
          "江西省",
          "辽宁省"
        ];
    function random(arr){
      return arr[Math.floor(Math.random() * arr.length + 1) - 1];
    };
    function slideDown(){
      $(".barrage").slideDown();
    };
    function slideUp(){
      $(".barrage").slideUp();
    };
    function barrageText(){
      $(".barrage").text(random(seconds_arr).toString() + "秒前，全球U选收到来自" + random(barrage_province).toString() +"的#{ from }订单");
    };
    barrage_max = random(barrage_max_arr);
    function timeOut(){
      if (barrage_count > barrage_max) return;
      setTimeout(function(){
          barrage_count++;
          barrageText();
          slideDown();
          setTimeout(function(){
            slideUp();
          }, 5000);
          
          timeOut();
        },
        random(interval_arr) * 60 * 1000);
    };
    
    timeOut();
  });